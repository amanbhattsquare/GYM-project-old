{% extends 'base.html' %}

{% block content %}
<div class="col-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title">{{ member.first_name }} {{ member.last_name }}</h4>
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Email:</strong> {{ member.email }}</p>
                    <p><strong>Mobile:</strong> {{ member.mobile_number }}</p>
                    <p><strong>Age:</strong> {{ member.age }}</p>
                    <p><strong>Gender:</strong> {{ member.gender }}</p>
                    <p><strong>Date of Birth:</strong> {{ member.date_of_birth }}</p>
                    <p><strong>Address:</strong> {{ member.address }}</p>
                    <p><strong>Area:</strong> {{ member.area }}</p>
                    <p><strong>State:</strong> {{ member.state }}</p>
                    <p><strong>City:</strong> {{ member.city }}</p>
                    <p><strong>Pincode:</strong> {{ member.pincode }}</p>
                    <p><strong>Profession:</strong> {{ member.profession }}</p>
                </div>
                <div class="col-md-6">
                    {% if member.profile_picture %}
                        <img src="{{ member.profile_picture.url }}" alt="Profile Picture" class="img-fluid">
                    {% endif %}
                    {% if member.sign %}
                        <img src="{{ member.sign.url }}" alt="Signature" class="img-fluid">
                    {% endif %}
                    {% if member.identity_document_image %}
                        <img src="{{ member.identity_document_image.url }}" alt="Identity Document" class="img-fluid">
                    {% endif %}
                </div>
            </div>

            <h3>Medical History</h3>
            <ul>
            {% for history in member.medical_history.all %}
                <li>{{ history.condition }} ({{ history.type }}) - Since: {{ history.since }}</li>
            {% endfor %}
            </ul>

            <h3>Emergency Contact</h3>
            <p><strong>Name:</strong> {{ member.emergency_contact.name }}</p>
            <p><strong>Mobile:</strong> {{ member.emergency_contact.mobile }}</p>
            <p><strong>Relation:</strong> {{ member.emergency_contact.relation }}</p>

            <a href="{% url 'edit_member' member.id %}" class="btn btn-primary">Edit</a>
            <a href="{% url 'member_list' %}" class="btn btn-secondary">Back to List</a>
        </div>
    </div>
</div>
{% endblock %}